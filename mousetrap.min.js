/* mousetrap v1.3.2 craig.is/killing/mice */
(function(){function u(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function C(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return h[a.which]?h[a.which]:D[a.which]?D[a.which]:String.fromCharCode(a.which).toLowerCase()}function v(a,b){a=a||{};var c=!1,d;for(d in m)a[d]&&m[d]>b?c=!0:m[d]=0;c||(p=!1,n&&(n(q),q=[],w=n=null))}function E(a,b,c,d,g){var f,e,F=[],k=c.type;if(!l[a])return[];"keyup"==k&&x(a)&&(b=[a]);for(f=
0;f<l[a].length;++f)if(e=l[a][f],!(e.seq&&m[e.seq]!=e.level)&&k==e.action&&("keypress"==k&&!c.metaKey&&!c.ctrlKey||b.sort().join(",")===e.modifiers.sort().join(",")))d&&e.combo==g&&l[a].splice(f,1),F.push(e);return F}function y(a,b,c){if(!r.stopCallback(b,b.target||b.srcElement,c)&&!1===a(b,c))b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.returnValue=!1,b.cancelBubble=!0}function z(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=C(a);if(b)if("keyup"==a.type&&
A==b)A=!1;else{var c=[];a.shiftKey&&c.push("shift");a.altKey&&c.push("alt");a.ctrlKey&&c.push("ctrl");a.metaKey&&c.push("meta");var d=E(b,c,a),g={},f=0,e=!1;n&&("keypress"==a.type?(q.push(c.concat([b]).join("+")),B()):"keyup"==a.type&&"keydown"==w&&(q.push(b),B()),w=a.type);for(c=0;c<d.length;++c)d[c].seq?(e=!0,f=Math.max(f,d[c].level),g[d[c].seq]=1,y(d[c].callback,a,d[c].combo)):!e&&!p&&y(d[c].callback,a,d[c].combo);a.type==p&&!x(b)&&v(g,f)}}function x(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==
a}function B(){clearTimeout(G);G=setTimeout(v,1E3)}function H(a,b,c){if(!c){if(!s){s={};for(var d in h)95<d&&112>d||h.hasOwnProperty(d)&&(s[h[d]]=d)}c=s[a]?"keydown":"keypress"}"keypress"==c&&b.length&&(c="keydown");return c}function L(a,b,c,d){m[a]=0;d||(d=H(b[0],[]));var g=function(){p=d;++m[a];B()},f=function(b){y(c,b,a);"keyup"!==d&&(A=C(b));setTimeout(v,10)},e;for(e=0;e<b.length;++e)I(b[e],e<b.length-1?g:f,d,a,e)}function I(a,b,c,d,g){t[a+":"+c]=b;a=a.replace(/\s+/g," ");var f=a.split(" "),e,
h,k=[];if(1<f.length)L(a,f,b,c);else{h="+"===a?["+"]:a.split("+");for(f=0;f<h.length;++f)e=h[f],J[e]&&(e=J[e]),c&&("keypress"!=c&&K[e])&&(e=K[e],k.push("shift")),x(e)&&k.push(e);c=H(e,k,c);l[e]||(l[e]=[]);E(e,k,{type:c},!d,a);l[e][d?"unshift":"push"]({callback:b,modifiers:k,action:c,seq:d,level:g,combo:a})}}for(var h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",
45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},D={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},K={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},J={option:"alt",command:"meta","return":"enter",escape:"esc"},s,l={},t={},m={},G,A=!1,p=!1,q=[],n=null,w=null,g=1;20>g;++g)h[111+g]="f"+g;for(g=0;9>=g;++g)h[g+96]=g;
u(document,"keypress",z);u(document,"keydown",z);u(document,"keyup",z);var r={bind:function(a,b,c){a=a instanceof Array?a:[a];for(var d=0;d<a.length;++d)I(a[d],b,c);return this},unbind:function(a,b){return r.bind(a,function(){},b)},record:function(a,b){n=a},trigger:function(a,b){if(t[a+":"+b])t[a+":"+b]({},a);return this},reset:function(){l={};t={};return this},stopCallback:function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==
b.tagName||b.contentEditable&&"true"==b.contentEditable}};window.Mousetrap=r;"function"===typeof define&&define.amd&&define(r)})();
